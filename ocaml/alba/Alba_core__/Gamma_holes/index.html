<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Gamma_holes (alba.Alba_core__.Gamma_holes)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">alba</a> &#x00BB; <a href="../index.html">Alba_core__</a> &#x00BB; Gamma_holes</nav><h1>Module <code>Alba_core__.Gamma_holes</code></h1></header><aside><p><code>Gamma_holes</code> is a context with holes which can be filled later. A hole is a local unnamed variable with a type (i.e. an assumption that an element with this type exists), initially without value. Later on the value can be provided.</p></aside><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-context"><a href="#val-context" class="anchor"></a><code><span class="keyword">val</span> context : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Alba_core/Gamma/index.html#type-t">Alba_core.Gamma.t</a></code></dt><dd><p>The current context with holes.</p></dd></dl><dl><dt class="spec value" id="val-base_context"><a href="#val-base_context" class="anchor"></a><code><span class="keyword">val</span> base_context : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Alba_core/Gamma/index.html#type-t">Alba_core.Gamma.t</a></code></dt><dd><p>The initial context without holes.</p></dd></dl><dl><dt class="spec value" id="val-count"><a href="#val-count" class="anchor"></a><code><span class="keyword">val</span> count : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The size of the context.</p></dd></dl><dl><dt class="spec value" id="val-count_base"><a href="#val-count_base" class="anchor"></a><code><span class="keyword">val</span> count_base : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The size of the base context.</p></dd></dl><dl><dt class="spec value" id="val-count_bounds"><a href="#val-count_bounds" class="anchor"></a><code><span class="keyword">val</span> count_bounds : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The number of bound variables which have been entered.</p></dd></dl><dl><dt class="spec value" id="val-count_entries"><a href="#val-count_entries" class="anchor"></a><code><span class="keyword">val</span> count_entries : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The number of holes and bound variables which have been entered.</p></dd></dl><dl><dt class="spec value" id="val-is_valid_index"><a href="#val-is_valid_index" class="anchor"></a><code><span class="keyword">val</span> is_valid_index : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-name_of_index"><a href="#val-name_of_index" class="anchor"></a><code><span class="keyword">val</span> name_of_index : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-index_of_level"><a href="#val-index_of_level" class="anchor"></a><code><span class="keyword">val</span> index_of_level : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-adapted_level"><a href="#val-adapted_level" class="anchor"></a><code><span class="keyword">val</span> adapted_level : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-definition_term"><a href="#val-definition_term" class="anchor"></a><code><span class="keyword">val</span> definition_term : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a> option</span></code></dt><dt class="spec value" id="val-is_hole"><a href="#val-is_hole" class="anchor"></a><code><span class="keyword">val</span> is_hole : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Is the variable a hole?</p></dd></dl><dl><dt class="spec value" id="val-is_bound"><a href="#val-is_bound" class="anchor"></a><code><span class="keyword">val</span> is_bound : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Is the variable a bound variable?</p></dd></dl><dl><dt class="spec value" id="val-bound_number"><a href="#val-bound_number" class="anchor"></a><code><span class="keyword">val</span> bound_number : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>bound_number idx gh</code></p><p>Return the number of the bound variable at <code>idx</code>.</p><p>Precondition:</p><pre><code class="ml">is_bound idx gh</code></pre></dd></dl><dl><dt class="spec value" id="val-variable_of_bound"><a href="#val-variable_of_bound" class="anchor"></a><code><span class="keyword">val</span> variable_of_bound : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a></code></dt><dd><p><code>variable_of_bound i gh</code></p><p>Compute the variable corresponding to the <code>i</code>th bound variable.</p><p>Precondition:</p><pre><code class="ml">i &lt; count_bounds gh</code></pre></dd></dl><dl><dt class="spec value" id="val-has_value"><a href="#val-has_value" class="anchor"></a><code><span class="keyword">val</span> has_value : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Has the variable a value i.e. is it a hole with value.</p></dd></dl><dl><dt class="spec value" id="val-value"><a href="#val-value" class="anchor"></a><code><span class="keyword">val</span> value : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a> option</span></code></dt><dd><p>The optional value of the hole.</p></dd></dl><dl><dt class="spec value" id="val-unfilled_holes"><a href="#val-unfilled_holes" class="anchor"></a><code><span class="keyword">val</span> unfilled_holes : int <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Fmlib__Common/index.html#module-Int_set">Fmlib.Common.Int_set</a>.t</code></dt><dd><p><code>unfilled_holes cnt0 term gh</code></p><p>List of unfilled holes in <code>term</code> starting at level <code>cnt0</code>.</p><p>The returned list contains the De Bruijn levels of the unfilled holes.</p><p>Precondition:</p><pre><code class="ml">cnt0 &lt;= count gh</code></pre></dd></dl><dl><dt class="spec value" id="val-expand"><a href="#val-expand" class="anchor"></a><code><span class="keyword">val</span> expand : <a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a></code></dt><dd><p><code>expand term gh</code> Replace all holes in <code>term</code> with its values, if available.</p></dd></dl><dl><dt class="spec value" id="val-is_expanded"><a href="#val-is_expanded" class="anchor"></a><code><span class="keyword">val</span> is_expanded : <a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_expanded term gh</code> Is the term <code>term</code> expanded i.e. does it not contain any filled holes?</p></dd></dl><dl><dt class="spec value" id="val-term_of_term_n"><a href="#val-term_of_term_n" class="anchor"></a><code><span class="keyword">val</span> term_of_term_n : <a href="../../Alba_core/Term/index.html#type-t_n">Alba_core.Term.t_n</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a></code></dt><dd><p><code>term_of_term_n tn gh</code></p><p>Lift the term <code>tn</code> into the context and expand it.</p></dd></dl><dl><dt class="spec value" id="val-fill_hole0"><a href="#val-fill_hole0" class="anchor"></a><code><span class="keyword">val</span> fill_hole0 : int <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>fill_hole0 idx value beta_reduce gh</code></p><p>Fill the hole at <code>idx</code> with <code>value</code>. In case that <code>value</code> is a function abstraction appearing in a function position and the flag <code>beta_reduce</code> is set, do a beta reduction.</p><p>Preconditions:</p><pre><code class="ml">is_unfilled idx gh</code></pre></dd></dl><dl><dt class="spec value" id="val-fill_hole"><a href="#val-fill_hole" class="anchor"></a><code><span class="keyword">val</span> fill_hole : int <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>fill_hole idx value gh</code> Fill the hole at <code>idx</code> with <code>value</code>.</p><p>Preconditions:</p><pre><code class="ml">is_unfilled idx gh</code></pre></dd></dl><dl><dt class="spec value" id="val-fold_entries"><a href="#val-fold_entries" class="anchor"></a><code><span class="keyword">val</span> fold_entries : <span>(int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-typ">Alba_core.Term.typ</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <span><a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a> option</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold_entries f gh a</code> fold all entries with the folding function <code>f</code>.</p><p><code>f</code> is called with the following arguments:</p><p><code>f level idx name typ is_hole value_opt a</code></p></dd></dl><dl><dt class="spec value" id="val-push_named_hole"><a href="#val-push_named_hole" class="anchor"></a><code><span class="keyword">val</span> push_named_hole : string <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-typ">Alba_core.Term.typ</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>push_hole name typ gh</code> Add a hole with name <code>name</code> of type <code>typ</code> to <code>gh</code>.</p></dd></dl><dl><dt class="spec value" id="val-push_hole"><a href="#val-push_hole" class="anchor"></a><code><span class="keyword">val</span> push_hole : <a href="../../Alba_core/Term/index.html#type-typ">Alba_core.Term.typ</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>push_hole typ gh</code> Add a hole of type <code>typ</code> to <code>gh</code>.</p></dd></dl><dl><dt class="spec value" id="val-push_bound"><a href="#val-push_bound" class="anchor"></a><code><span class="keyword">val</span> push_bound : string <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-typ">Alba_core.Term.typ</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>push_bound name is_typed gh</code> adds a bound variable to the context. The bound variable can be later used to construct binders like <code>Pi (arg_tp, res_tp,
info</code> or <code>Lambda (arg_tp, exp, info</code>. <code>is_typed</code> is used to construct the binder.</p></dd></dl><dl><dt class="spec value" id="val-remove_bounds"><a href="#val-remove_bounds" class="anchor"></a><code><span class="keyword">val</span> remove_bounds : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>remove_bounds n gh</code></p><p>Remove the <code>n</code> last bound variables.</p></dd></dl><dl><dt class="spec value" id="val-pop_bound"><a href="#val-pop_bound" class="anchor"></a><code><span class="keyword">val</span> pop_bound : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>pop_bound gh</code> is equivalent to <code>remove_bounds 1 gh</code></p></dd></dl><dl><dt class="spec value" id="val-push_local"><a href="#val-push_local" class="anchor"></a><code><span class="keyword">val</span> push_local : string <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-typ">Alba_core.Term.typ</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>push_local name typ gh</code> is synonym for <code>push_bound name true gh</code></p></dd></dl><dl><dt class="spec value" id="val-name_at_level"><a href="#val-name_at_level" class="anchor"></a><code><span class="keyword">val</span> name_at_level : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-type_at_level"><a href="#val-type_at_level" class="anchor"></a><code><span class="keyword">val</span> type_at_level : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-typ">Alba_core.Term.typ</a></code></dt><dt class="spec value" id="val-type_of_variable"><a href="#val-type_of_variable" class="anchor"></a><code><span class="keyword">val</span> type_of_variable : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-typ">Alba_core.Term.typ</a></code></dt><dd><p><code>type_of_variable idx gh</code></p><p>Return the expanded type of the variable <code>idx</code>.</p></dd></dl><dl><dt class="spec value" id="val-type_of_literal"><a href="#val-type_of_literal" class="anchor"></a><code><span class="keyword">val</span> type_of_literal : <a href="../Value/index.html#type-t">Alba_core__.Value.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-typ">Alba_core.Term.typ</a></code></dt><dt class="spec value" id="val-pi"><a href="#val-pi" class="anchor"></a><code><span class="keyword">val</span> pi : int <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-typ">Alba_core.Term.typ</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-typ">Alba_core.Term.typ</a></code></dt><dd><p><code>pi nbounds result_tp gh</code></p><p>Compute a product type with <code>result_tp</code> using the last <code>nbounds</code> bound variables.</p><pre><code class="ml">all (a: A) (b: B) ... : RT</code></pre><p>Preconditions:</p><pre><code class="ml">nbounds &lt;=  count_bounds gh</code></pre></dd></dl><dl><dt class="spec value" id="val-lambda"><a href="#val-lambda" class="anchor"></a><code><span class="keyword">val</span> lambda : int <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Alba_core/Term/index.html#type-t">Alba_core.Term.t</a></code></dt><dd><p><code>lambda nbounds exp gh</code></p><p>Compute a function term with the inner expression <code>exp</code> using the last <code>nbounds</code> bound variables.</p><pre><code class="ml">\ (a: A) (b: B) ... := exp</code></pre><p>Preconditions:</p><pre><code class="ml">nbounds &lt;= count_bounds gh</code></pre></dd></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : <a href="../../Alba_core/Gamma/index.html#type-t">Alba_core.Gamma.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt></dl></div></body></html>